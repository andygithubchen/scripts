andychen

<script>

window.user = 'ms18702032386';

function localData(key,value){
  var data = {},
      v = localStorage.getItem(user);

  data = JSON.parse(v);
  data = data ? data : {};

  if(value || value === ''){
    data[key] = value;
    data = JSON.stringify(data);
    localStorage.setItem(user,data);
  }else{
    return data[key];
  }
}

function localDataDel(key){
  var data = {},
      v = localStorage.getItem(user);

  data = JSON.parse(v);

  if(data)
    delete data[key];

  data = JSON.stringify(data);
  localStorage.setItem(user,data);
}

function localDataClear(user){
  if(user)
    localStorage.removeItem(user);
  else
    localStorage.clear();
}


// test ---------------------------------------------+
localData('kkkk','23233');
localData('time','sdk3erwe234qaqwdas');
localData('som','sgtsdfdsf');
localData('tuu','');
localData('andy','chen');
localDataDel('time');
var get = localData('som');
console.log(get);

//localDataClear();

console.log(localStorage);




</script>
